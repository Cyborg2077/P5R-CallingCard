<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="favicon.ico">

    <!-- Primary Meta Tags -->
    <title>Persona 5 Calling Card Maker</title>
    <meta name="title" content="Persona 5 Calling Card Maker">
    <meta name="description"
        content="For the sake of effortlessly making a calling card. Sending your card to the darkest desire.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://skyventuree.github.io/p5cc/index.html">
    <meta property="og:title" content="Persona 5 Calling Card Maker">
    <meta property="og:description"
        content="For the sake of effortlessly making a calling card. Sending your card to the darkest desire.">
    <meta property="og:image" content="https://github.com/skyventuree/skyventuree/raw/main/meta.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://skyventuree.github.io/p5cc/index.html">
    <meta property="twitter:title" content="Persona 5 Calling Card Maker">
    <meta property="twitter:description"
        content="For the sake of effortlessly making a calling card. Sending your card to the darkest desire.">
    <meta property="twitter:image" content="https://github.com/skyventuree/skyventuree/raw/main/meta.png">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SH14TQVZSF"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-SH14TQVZSF');
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="styles/editor.css">
    <link rel="stylesheet" href="styles/card.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/button.css">
</head>

<body>
    <base target="_blank" rel="noopener noreferrer">

    <div class="notice">
        <p>YouOkay: Letting your friends and family that you are OK today. Now in alpha development.
            <br />
            Give it a chance and see it for yourself.
        </p>
        <a href="https://youokay.vercel.app"><button>Visit YouOkay</button></a>
    </div>
    <div id="header">
        <div id="intro-icon">
            <img src="assets/icon.png">
        </div>
        <div id="intro-text">
            <h2>Persona 5 Calling Card Maker</h2>
            <p>For the sake of effortlessly making a calling card.<br>
                Sending your card to the darkest desire.</p>
        </div>
    </div>
    <hr>

    <!-- Preview area -->
    <div id="card-preview">
        <img src="assets/canvas.png" id="canvas-bg">
        <div id="canvas">
            <canvas id="canvas-card" width="1770" height="1300"></canvas>
            <canvas id="canvas-text" width="1770" height="1300"></canvas>
        </div>
    </div>

    <button id="refresh" class="action-btn" onclick="redrawBg();redrawText()"><i
            class="fa fa-refresh"></i>Refresh</button>

    <hr>

    <!-- Editor -->
    <div id="editor">

        <div id="content">
            <label for="content">What do you want to write on the calling card?</label>
            <textarea name="content" cols="30" autocomplete="off" placeholder="TAKE YOUR HEART"></textarea>
        </div>

        <div id="options">
            <hr class="mobile">

            <p style="text-align:center">If nothing seems to happen, click <i class="fa fa-refresh"></i>Refresh.</p>
            <div class="tab-btn" id="tab-handler">
                <button id="option-default" data-text-option="alignment"><i class="fa fa-arrows"
                        style="transform:rotate(-10deg)"></i></button>
                <button data-text-option="fonts"><i class="fa fa-font" style="transform:rotate(10deg)"></i></button>
                <button data-text-option="decoration"><i class="fa fa-paint-brush"
                        style="transform:rotate(-10deg)"></i></button>
                <button data-text-option="advanced"><i class="fa fa-cog" style="transform:rotate(10deg)"></i></button>
            </div>

            <!-- Alignments -->
            <div class="options-tab" id="alignment">
                <h2>Position and alignments</h2>
                <div id="text-options">
                    <label for="text-align"><i class="fa fa-align-center"></i>Align text: </label>
                    <select name="text-align" id="text-align" onchange="redrawBg();redrawText()"
                        style="transform:rotate(-3.5deg)">
                        <option value="left">left</option>
                        <option value="center" selected>center</option>
                        <option value="right">right</option>
                    </select>
                    <br><br>

                    <label class="cb-container">
                        <input type="checkbox" name="text-options" onclick="isMiddle=this.checked"
                            onchange="redrawText();redrawBg()" checked>
                        <span class="checkmark"></span>Vertically aligned text
                    </label>

                    <label for="text-top">or shift text from the top by</label>
                    <input type="number" name="text-top" id="text-top" min="0" max="2000" value="0" step="5"
                        onchange="redrawText();redrawBg()">
                    px
                </div>
            </div>

            <!-- Fonts -->
            <div class="options-tab" id="fonts">
                <h2>Fonts</h2>
                <div id="font-options">
                    <label for="font-family">Set family</label>
                    <input type="text" name="font-family" id="font-family" value="sans-serif" placeholder="sans-serif"
                        style="font-family:sans-serif">
                    <label for="font-size">with size of</label>
                    <input type="number" name="font-size" id="font-size" min="80" max="240" value="120" step="2"
                        onchange="redrawBg()">
                    px.
                </div>
            </div>

            <!-- Decorations -->
            <div class="options-tab" id="decoration">
                <h2>Text Stroke</h2>
                <div id="stroke">
                    <label class="cb-container">
                        <input type="checkbox" name="stroke" onclick="textStroke=this.checked" onchange="redrawText()"
                            checked>
                        <span class="checkmark"></span>Stroke text
                    </label>

                    <label for="stroke-width">Set width of stroke to</label>
                    <input type="number" name="stroke-width" id="stroke-width" min="5" max="10" value="6" step="1"
                        onchange="textStrokeWidth=this.value">
                    px.
                </div>

            </div>

            <!-- Advanced -->
            <div class="options-tab" id="advanced">
                <h2>Logo options</h2>
                <div id="show-logo">
                    <label class="cb-container">
                        <input type="checkbox" name="show-logo" onclick="showLogo=this.checked" onchange="redrawBg()"
                            checked>
                        <span class="checkmark"></span>
                        Show "Take your heart" logo
                    </label>
                </div>

                <div id="logo-size">
                    <label for="logo-size">Scale logo by</label>
                    <input type="number" name="logo-size" id="logo-size-option" min="0" max="10" value="1" step="0.05"
                        onchange="redrawBg()">
                    <label for="offset">with an offset of </label>
                    <input type="number" name="offset" id="logo-offset" min="0" max="1000" value="20"
                        onchange="redrawBg()">
                    px.
                </div>

                <hr>

                <h2>Delay rate</h2>
                <div id="delay-rate">
                    <label for="delay-rate">Delay each text being created by</label>
                    <input type="number" name="delay-rate" min="0" max="1000" value="100" onchange="saveDelay()"> ms
                    <p><i class="fa fa-info-circle"></i> Increase this value if you feels the page is laggy.</p>
                </div>
            </div>

            <br>
            <hr>

            <!-- Watermarking -->
            <div id="wtm-option">
                <label class="cb-container">
                    <input type="checkbox" name="showWatermark" id="showWatermark" onclick="showWtm=this.checked"
                        checked onchange="redrawBg()">
                    <span class="checkmark"></span>
                    Show watermark to this website
                </label>
            </div>
            <button class="action-btn" onclick="exportCard()"><i class="fa fa-arrow-circle-o-down"></i>Download your
                card</button>
        </div>
    </div>

    <hr>

    <p style="text-align:center">Need to report or suggest something? <a
            href="https://docs.google.com/forms/d/e/1FAIpQLSfuqntr1v4CW99VYnBIg-5yqX2Vony89CIaRuBrnBBeoI8n7A/viewform?usp=sf_link">Send
            them here.</a></p>

    <div id="credits">
        <p>Persona 5 © ATLUS. © SEGA. All rights reserved.</p>
        <p><a href="https://github.com/skyventuree/p5cc">Persona 5 Calling Card Maker</a> website designed and written
            by <a href="https://sorae42.github.io">sorae42</a>.</p>
        <p>Assets used:</p>
        <ul>
            <li><a href="https://www.deviantart.com/elmind/art/Persona-5-Calling-Card-Base-676530039">Persona 5 Calling
                    Card Base</a> by <a href="https://www.deviantart.com/elmind">Elmind</a>.</li>
            <li><a href="https://lzxhahaha.github.io/persona5/">Persona 5 Style Text Generator</a> by <a
                    href="https://github.com/LzxHahaha">LzxHahaha</a>.<br>
                Ported and modified by <a href="https://sorae42.github.io">shigukk</a>.</li>
            <li>Persona 5 Logo and Assets by ALTUS.</li>
        </ul>
        <p>All assets are all under fair use.</p>
    </div>

    <div id="support">
        <button>
            <a href="https://ko-fi.com/shigukk" style="text-decoration:none">
                <i class="fa fa-coffee"></i>Buy me a coffee!
            </a>
        </button>
    </div>
    <p class="version">v.<span id="version-number"></span> (<a
            href="https://github.com/skyventuree/p5cc/blob/main/CHANGELOG.md">See changelog</a>)</p>
    <p class="version"><a style="opacity:42%;font-size:10px;"
            onclick="document.getElementById('story').style.display='block';document.getElementById('version-number').innerText='3.the.end'">Let's
            a have talk, shall we?</a></p>
    <div style="display:none" id="story">
        <div class="notice">
            <h2>P5CC: How did I got here?</h2>
            <p>
                I think it would be interesting to tell you why and how I made this, the problem of this tool and why
                P5CCv4 might not be happening soon. <br>
                My writing skill is bad, but after all, I just want to tell a story.
            </p>
            <p>
                P5CC was a project written during the time when I'm still a Persona 5 fan. Unfortunately, time flies
                fast and it changes myself a lot. <br>
                Initially made in 2020, not so many people used it back then, and it takes a lot of time to make one
                card, no customization, and the font is just sucks. <br>
                Since the cards are stored on a server and I have a bad curiousity mind, I'd sometime read the cards and
                see what people would say. <br>
                I realized how bad this could go, I decided to go for an alternative route.
            </p>
            <p>
                2022 came, a year and a half since I left the P5 fandom, I discovered a tool to generate P5 styled text.
                <br>
                I forked it, and began to work on a full-fledged P5 calling card maker, where everything is done on the
                browser. <br>
                No compromise, just you typing some words and have the browser do the hard work. <br>
                I spent 10 hours, not sleeping to write the whole webpage without any help of framework or library
                (because I don't know any of them back then). <br>
                It was painful.
            </p>
            <p>
                In the next few months, I spent quite a time telling people and shamelessly plug the new version for
                people to use it. <br>
                I also cleaned up the old server, set up a bunch of redirects, close off the old page so people. <br>
                Just many days after that, I set up an analytics system to see how many people visited this page, and
                the results were phenomenal. <br>
                Could you believe that? <strong>Over 500 visits per day! Worldwide! Used by people, cosplayers, and even
                    Vtubers!</strong><br>
                That doesn't sounds too much but it means a lot to me.
            </p>
            <p>
                However, the fact that I wrote this site using pure programming languages has caused unnecessary
                spagetti code that become harder to maintain. <br>
                It's been days I've tried so hard so keep everything in place just become increasing hard to the point
                it'd be impossible. <br>
                And since I left the Persona fandom, that give me zero motivation to keep this project going. <br>
                That also means there might not be a 4th version of P5CC.
            </p>
            <p>
                So what does it means to P5CC project as a whole? <br>
                This project may soon become archived and no maintainance will be made after that. <br>
                There won't be a P5CCv4 as (not) promised. This website will be like this forever. <br>
            </p>
            <p>
                So, thank you for everything. <br>
                Thanks for visiting, making card and spreading around the words. <br>
                P5CC would not be possible without people like you.
            </p>
            <p>Again, thank you very much for sticking around. Might tomorrow be a better day.</p>
            <p
                style="font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">
                いつもお世話になっております。</p>
        </div>
    </div>


    <!-- Main utility and core function-->
    <script src="version.js"></script>
    <script src="scripts/editor.js"></script>
    <script src="scripts/card.js"></script>
    <script src="scripts/exporter.js"></script>

    <!-- Text generator from Persona 5 Style Text Gen @lzxhahaha -->
    <script src="scripts/textgen/utils.js"></script>
    <script src="scripts/textgen/char.js"></script>
    <script src="scripts/textgen/text.js"></script>
</body>

</html>