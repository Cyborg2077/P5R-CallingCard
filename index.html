<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#FF0405">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="icon" type="image/x-icon" href="favicon.ico">

    <!-- Primary Meta Tags -->
    <title>Persona 5 Calling Card Maker</title>
    <meta name="title" content="Persona 5 Calling Card Maker">
    <meta name="description"
        content="For the sake of effortlessly making a calling card. Sending your card to the darkest desire.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://skyventuree.github.io/p5cc/index.html">
    <meta property="og:title" content="Persona 5 Calling Card Maker">
    <meta property="og:description"
        content="For the sake of effortlessly making a calling card. Sending your card to the darkest desire.">
    <meta property="og:image" content="https://github.com/skyventuree/skyventuree/raw/main/meta.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://skyventuree.github.io/p5cc/index.html">
    <meta property="twitter:title" content="Persona 5 Calling Card Maker">
    <meta property="twitter:description"
        content="For the sake of effortlessly making a calling card. Sending your card to the darkest desire.">
    <meta property="twitter:image" content="https://github.com/skyventuree/skyventuree/raw/main/meta.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/editor.css">
    <link rel="stylesheet" href="styles/card.css">
    <link rel="stylesheet" href="styles/button.css">
    <link rel="stylesheet" href="styles/clock.css">
</head>

<body>
    <base target="_blank" rel="noopener noreferrer">



    <div id="header">
        <div id="intro-icon">
            <img src="assets/icon.png">
        </div>
        <div id="intro-text">
            <h2 data-i18n="title.name">Persona 5 Calling Card Maker</h2>
            <p data-i18n="title.sub">For the sake of effortlessly making a calling card.<br>
                Sending your card to the darkest desire.</p>
        </div>
    </div>
    <hr>

    <!-- Preview area -->
    <div id="card-preview" data-mobile-hint="双指缩放可调整预览大小">
        <img src="assets/canvas.png" id="canvas-bg">
        <div id="canvas">
            <canvas id="canvas-card" width="1770" height="1300"></canvas>
            <canvas id="canvas-text" width="1770" height="1300"></canvas>
        </div>
    </div>

    <div class="action-buttons">
        <button id="refresh" class="action-btn" onclick="redrawBg();redrawText(true)">
            <i class="fa fa-refresh"></i><span data-i18n="button.refresh">Refresh</span>
        </button>
        <button class="action-btn" onclick="exportCard()">
            <i class="fa fa-arrow-circle-o-down"></i>
            <span data-i18n="button.download">下载你的预告信</span>
        </button>
    </div>

    <hr>

    <!-- Editor -->
    <div id="editor">

        <div id="content">
            <label for="content" data-i18n="editor.content">What do you want to write on the calling card?</label>
            <textarea name="content" cols="30" rows="6" placeholder="TAKE YOUR HEART"></textarea>
            <p data-i18n="editor.notice">注意：预告信生成器 不会自动换行/调整文本大小。<br> 请按键盘上的 Enter 键换行。</p>
            
            <div id="project-info" style="margin-top: 15px; padding: 10px; background-color: rgba(0,0,0,0.05); border-radius: 5px; font-size: 14px; line-height: 1.4;">
                <p><strong>《女神异闻录5》© ATLUS. © SEGA. 保留所有权利。</strong></p>
                <p>本项目基于 <a href="https://github.com/skyventuree/p5cc">skyventuree/p5cc</a> 修改，原始版本由 <a href="https://github.com/sorae42">sorae42</a> 开发。</p>
                <p><a href="https://www.deviantart.com/elmind/art/Persona-5-Calling-Card-Base-676530039">Persona 5 Calling Card 基础素材</a>，作者 <a href="https://www.deviantart.com/elmind">Elmind</a>（已从 DeviantArt 删除）。</p>
                <p><a href="https://lzxhahaha.github.io/persona5/">Persona 5 风格文字生成器</a>，作者 <a href="https://github.com/LzxHahaha">LzxHahaha</a>，后由 <a href="https://sorae42.github.io">sorae42</a> 移植与修改。</p>
                <p>Persona 5 Logo 与相关素材版权归 ATLUS 所有。以上素材均基于合理使用（Fair Use）原则。</p>
            </div>
        </div>

        <div id="options">
            <hr class="mobile">


            <!-- 统一设计选项 -->
            <div class="options-tab" id="alignment">
                <div class="design-panel">
                    <div class="design-section">
                        <h3><i class="fa fa-align-center"></i>对齐方式</h3>
                        <div class="design-controls">
                            <div class="control-group">
                                <label for="text-align" data-i18n="alignments.options.text_align">Align text: </label>
                                <select name="text-align" id="text-align" onchange="redrawBg();redrawText()">
                                    <option value="left" data-i18n="alignments.options.left">left</option>
                                    <option value="center" data-i18n="alignments.options.center" selected>center
                                    </option>
                                    <option value="right" data-i18n="alignments.options.right">right</option>
                                </select>
                            </div>

                            <div class="control-group">
                                <label class="cb-container">
                                    <input type="checkbox" name="text-options" onclick="isMiddle=this.checked"
                                        onchange="redrawText();redrawBg()" checked>
                                    <span class="checkmark"></span>
                                    <span data-i18n="alignments.options.vertical_align">Vertically aligned text</span>
                                </label>
                            </div>

                            <div class="control-group">
                                <label for="text-top" data-i18n="alignments.options.shift_from_top">Shift text from
                                    top:</label>
                                <div class="input-with-unit">
                                    <input type="number" name="text-top" id="text-top" min="0" max="2000" value="0"
                                        step="5" onchange="redrawText();redrawBg()">
                                    <span class="unit">px</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="design-section">
                        <h3><i class="fa fa-font"></i>字体</h3>
                        <div class="design-controls">
                            <div class="control-group">
                                <label for="font-family">Font family:</label>
                                <input type="text" name="font-family" id="font-family" value="sans-serif"
                                    placeholder="sans-serif" style="font-family:sans-serif">
                            </div>

                            <div class="control-group">
                                <label for="font-size">Font size:</label>
                                <div class="input-with-unit">
                                    <input type="number" name="font-size" id="font-size" min="80" max="240" value="120"
                                        step="2" onchange="redrawBg()">
                                    <span class="unit">px</span>
                                </div>
                            </div>


                        </div>
                    </div>




                </div>
            </div>



        </div>
    </div>

    <hr>


    </div>
    </div>

    <hr />






    <footer id="footer">
        <div id="credits" class="centered-credits">
            <p>© 2025 P5R Calling Card Generator</p>
            <p data-i18n="credits.description">This is a fan-made tool, not affiliated with ATLUS or SEGA.</p>
            <div id="runtime-clock">
                <div class="clock-container">
                    <span class="clock-prefix">本项目已运行：</span>
                    <div class="clock-display">
                        <div class="time-card" data-unit="days">
                            <div class="card-front">0</div>
                        </div>
                        <span class="unit-text">天</span>
                        <div class="time-card" data-unit="hours">
                            <div class="card-front">0</div>
                        </div>
                        <span class="unit-text">时</span>
                        <div class="time-card" data-unit="minutes">
                            <div class="card-front">0</div>
                        </div>
                        <span class="unit-text">分</span>
                        <div class="time-card" data-unit="seconds">
                            <div class="card-front">0</div>
                        </div>
                        <span class="unit-text">秒</span>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Main utility and core function-->
    <script src="scripts/editor.js"></script>
    <script src="scripts/card.js"></script>
    <script src="scripts/exporter.js"></script>
    <script src="scripts/clock.js"></script>

    <!-- Text generator from Persona 5 Style Text Gen @lzxhahaha -->
    <script src="scripts/textgen/utils.js"></script>
    <script src="scripts/textgen/char.js"></script>
    <script src="scripts/textgen/text.js"></script>

    <!-- Then run i18n script -->
    <script src="scripts/i18n.js"></script>
    <script src="scripts/mobile.js"></script>
</body>

</html>